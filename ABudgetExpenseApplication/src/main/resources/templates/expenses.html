	<!DOCTYPE html>
	<html  xmlns:th="http://www.thymeleaf.org">
	<head>
	<meta charset="ISO-8859-1">
	<title>Expense list  </title>
	  <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />
	    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
	    <script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
	<title>Sum Total for Column in jQuery </title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
  
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.js"> </script>
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"> </script>
<script src="https://cdn.datatables.net/searchpanes/2.0.0/js/dataTables.searchPanes.min.js"> </script>
<script src="https://cdn.datatables.net/select/1.3.4/js/dataTables.select.min.js"> </script>
<script src="https://code.highcharts.com/highcharts.js"> </script>



    
    <script>
        $(document).ready(function() {
            $('table thead th').each(function(i=2) {
                calculateColumn(2);
            });
        });

        function calculateColumn(index) {
            var total = 0;
            $('table tr').each(function() {
                var value = parseFloat($('td', this).eq(index).text());
                if (!isNaN(value)) {
                    total += value;
                }
            });
            $('table tfoot td').eq(index).text('Total: ' + total);
            console.log(total);
            document.getElementById("val").innerHTML = "You have spent  $" + total + " " + " in total";
        }
    </script>
    
  <!--  <script>
    $(document).ready(function() {
    $('#table').DataTable();
    } ); 
</script>-->
	
	<!-- <script>
				var table = document.getElementById("table"), sumVal = 0;
				for (var i = 1; i < table.rows.length; i++)
				 {
					sumVal = sumVal + parseInt(table.rows[i]).cell[6].innerHTML;	
				}
				document.getElementById("val").innerHTML = "Total = " + sumVal;
				console.log(sumVal);
			</script> -->
	</head>
	
	
	<body>
<<<<<<< HEAD
	<button onclick="history.back()">Back</button>
	 &nbsp;
=======
	<h2 id= "val" style = " text-align: center"> This is your money </h2 >	
>>>>>>> branch 'master' of https://github.com/davevon/GroupExpenseApplication.git
	<div class="container text-center">
		<div><h1>Expense List</h1></div>
	 &nbsp;
		
	<div>
	<table id = "table">
	<thead class"thead-dark">
	<tr>
	<th>ID</th>
	<th>Expense Date</th>
	<th>Expense Amount</th>
	<th>Category</th>
	<th>Expense Note</th>
	<th>Action</th>
	</tr>
	</thead>
	<!-- work -->
	<tbody>
	<tr th:each="expense : ${listExpenses}">
	<td th:text="${expense.id}"></td>
	<td th:text="${expense.expenseDate}"></td>
	<td th:text="${expense.expenseAmount}"></td>
	<td th:text="${expense.category.name}"></td>
	<td th:text="${expense.expenseNote}"></td>
	<td>
		<a th:href="@{'/expenses/edit/' + ${expense.id}}">Edit</a> 
		&nbsp;
		&nbsp;
	<a th:href="@{'/expenses/delete/' + ${expense.id}}">Delete</a> </td>
	</tr>
	</tbody>
	</table>
	    </div>
	</div>
<<<<<<< HEAD
	<span id= "val"> This is your money </span>	
	&nbsp;
	&nbsp;
	&nbsp;
	&nbsp;
	&nbsp;
	&nbsp;
	 <p style ="color:blue; font-size: 20px; left: 0; bottom: 0; position: center;  text-align: center;"><a th:href="@{/expense/new}">Create another expense</a></p>
	
=======

	
	<!---->
	
	<script>
	
	
 $(document).ready(function () {
    // Create DataTable
    var table = $('#table').DataTable({
      //  dom: 'Pfrtip',
    });
 
    // Create the chart with initial data
    var container = $('<div/>').insertBefore(table.table().container());
 
    var chart = Highcharts.chart(container[0], {
        chart: {
            type: 'pie',
        },
        title: {
            text: 'Categories Spending',
        },
        series: [
            {
                data: chartData(table),
            },
        ],
    });
 
    // On each draw, update the data in the chart
    table.on('draw', function () {
        chart.series[0].setData(chartData(table));
    });
});
 
function chartData(table) {
    var counts = {};
 
    // Count the number of entries for each position
    table
        .column(3, { search: 'applied' })
        .data()
        .each(function (val) {
            if (counts[val]) {
                counts[val] += 1;
            } else {
                counts[val] = 1;
            }
        });
 
    // And map it to the format highcharts uses
    return $.map(counts, function (val, key) {
        return {
            name: key,
            y: val,
        };
    });
}
	
	 </script>
	<!---->
>>>>>>> branch 'master' of https://github.com/davevon/GroupExpenseApplication.git
	</body>
	</html>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
